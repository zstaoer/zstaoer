<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySql面经 | zstblog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon1.ico">
    <meta name="description" content="技术分享">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.e853742c.css" as="style"><link rel="preload" href="/assets/js/app.9553e677.js" as="script"><link rel="preload" href="/assets/js/3.979a681a.js" as="script"><link rel="preload" href="/assets/js/1.9975a5e7.js" as="script"><link rel="preload" href="/assets/js/9.25944bc3.js" as="script"><link rel="prefetch" href="/assets/js/10.1e8468c9.js"><link rel="prefetch" href="/assets/js/11.7729bf5a.js"><link rel="prefetch" href="/assets/js/12.9557c0e3.js"><link rel="prefetch" href="/assets/js/13.5397dffc.js"><link rel="prefetch" href="/assets/js/14.d91a7549.js"><link rel="prefetch" href="/assets/js/15.12c66841.js"><link rel="prefetch" href="/assets/js/16.97c16572.js"><link rel="prefetch" href="/assets/js/17.bc6f6acd.js"><link rel="prefetch" href="/assets/js/18.a17ecee2.js"><link rel="prefetch" href="/assets/js/19.8f631be8.js"><link rel="prefetch" href="/assets/js/20.e493abb8.js"><link rel="prefetch" href="/assets/js/21.5189a833.js"><link rel="prefetch" href="/assets/js/22.6c980202.js"><link rel="prefetch" href="/assets/js/23.0a8ddf3a.js"><link rel="prefetch" href="/assets/js/24.a36362ba.js"><link rel="prefetch" href="/assets/js/25.9c8b53e2.js"><link rel="prefetch" href="/assets/js/26.69c456d6.js"><link rel="prefetch" href="/assets/js/27.e2bbe101.js"><link rel="prefetch" href="/assets/js/28.1e8db581.js"><link rel="prefetch" href="/assets/js/29.7f55762b.js"><link rel="prefetch" href="/assets/js/30.2a156191.js"><link rel="prefetch" href="/assets/js/31.8b7de805.js"><link rel="prefetch" href="/assets/js/32.b3f5d029.js"><link rel="prefetch" href="/assets/js/33.08ea4771.js"><link rel="prefetch" href="/assets/js/34.061543c8.js"><link rel="prefetch" href="/assets/js/35.5d582650.js"><link rel="prefetch" href="/assets/js/36.033b520c.js"><link rel="prefetch" href="/assets/js/37.d2585658.js"><link rel="prefetch" href="/assets/js/38.075aa62d.js"><link rel="prefetch" href="/assets/js/39.ccfbc284.js"><link rel="prefetch" href="/assets/js/4.705d9b2d.js"><link rel="prefetch" href="/assets/js/40.f60e24ed.js"><link rel="prefetch" href="/assets/js/41.7629259b.js"><link rel="prefetch" href="/assets/js/42.ad66b4b5.js"><link rel="prefetch" href="/assets/js/43.9a95bcbb.js"><link rel="prefetch" href="/assets/js/44.44e2e197.js"><link rel="prefetch" href="/assets/js/45.5687f71b.js"><link rel="prefetch" href="/assets/js/46.7312795e.js"><link rel="prefetch" href="/assets/js/5.0b489da2.js"><link rel="prefetch" href="/assets/js/6.bce4681f.js"><link rel="prefetch" href="/assets/js/7.3309610d.js"><link rel="prefetch" href="/assets/js/8.412f9bc6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e853742c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>zstblog</h3> <p class="description" data-v-59e6cb88>技术分享</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>zstaoer</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="zstblog" class="logo"> <span class="site-name">zstblog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/MySql/" class="nav-link"><i class="undefined"></i>
  MySql
</a></li><li class="dropdown-item"><!----> <a href="/categories/Article/" class="nav-link"><i class="undefined"></i>
  Article
</a></li><li class="dropdown-item"><!----> <a href="/categories/MybatisPlus/" class="nav-link"><i class="undefined"></i>
  MybatisPlus
</a></li><li class="dropdown-item"><!----> <a href="/categories/EasyExcel/" class="nav-link"><i class="undefined"></i>
  EasyExcel
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue3/" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/springboot/" class="nav-link"><i class="undefined"></i>
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Docker/" class="nav-link"><i class="undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      vue3
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/article/v3/20230911.html" class="nav-link"><i class="undefined"></i>
  常用指令
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/v3/202309111620.html" class="nav-link"><i class="undefined"></i>
  计算属性 &amp; 侦听器 &amp; 样式绑定 &amp; 模板引用
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/v3/202309111638.html" class="nav-link"><i class="undefined"></i>
  Vue3 基础 – Vite &amp; 组件基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      JavaScript
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230912-Map.html" class="nav-link"><i class="undefined"></i>
  Map
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230912-Set.html" class="nav-link"><i class="undefined"></i>
  Set
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-List.html" class="nav-link"><i class="undefined"></i>
  List
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-bool.html" class="nav-link"><i class="undefined"></i>
  布尔
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-num.html" class="nav-link"><i class="undefined"></i>
  数字类型
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-string.html" class="nav-link"><i class="undefined"></i>
  字符串
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/theme-reco/" class="nav-link router-link-active"><i class="undefined"></i>
  java面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/redis.html" class="nav-link"><i class="undefined"></i>
  Redis面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/mq.html" class="nav-link"><i class="undefined"></i>
  MQ面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/SpringBoot-SpringCloud.html" class="nav-link"><i class="undefined"></i>
  SpringBoot&amp;SpringCloud面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/ssm.html" class="nav-link"><i class="undefined"></i>
  ssm面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/mysql.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  MySql面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/Transactional.html" class="nav-link"><i class="undefined"></i>
  事务控制
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/avatar1.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    zstaoer
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>35</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>26</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/MySql/" class="nav-link"><i class="undefined"></i>
  MySql
</a></li><li class="dropdown-item"><!----> <a href="/categories/Article/" class="nav-link"><i class="undefined"></i>
  Article
</a></li><li class="dropdown-item"><!----> <a href="/categories/MybatisPlus/" class="nav-link"><i class="undefined"></i>
  MybatisPlus
</a></li><li class="dropdown-item"><!----> <a href="/categories/EasyExcel/" class="nav-link"><i class="undefined"></i>
  EasyExcel
</a></li><li class="dropdown-item"><!----> <a href="/categories/Vue3/" class="nav-link"><i class="undefined"></i>
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/springboot/" class="nav-link"><i class="undefined"></i>
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Docker/" class="nav-link"><i class="undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/categories/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      vue3
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/article/v3/20230911.html" class="nav-link"><i class="undefined"></i>
  常用指令
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/v3/202309111620.html" class="nav-link"><i class="undefined"></i>
  计算属性 &amp; 侦听器 &amp; 样式绑定 &amp; 模板引用
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/v3/202309111638.html" class="nav-link"><i class="undefined"></i>
  Vue3 基础 – Vite &amp; 组件基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      JavaScript
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230912-Map.html" class="nav-link"><i class="undefined"></i>
  Map
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230912-Set.html" class="nav-link"><i class="undefined"></i>
  Set
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-List.html" class="nav-link"><i class="undefined"></i>
  List
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-bool.html" class="nav-link"><i class="undefined"></i>
  布尔
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-num.html" class="nav-link"><i class="undefined"></i>
  数字类型
</a></li><li class="dropdown-item"><!----> <a href="/blogs/article/js01/20230913-string.html" class="nav-link"><i class="undefined"></i>
  字符串
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/theme-reco/" class="nav-link router-link-active"><i class="undefined"></i>
  java面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/redis.html" class="nav-link"><i class="undefined"></i>
  Redis面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/mq.html" class="nav-link"><i class="undefined"></i>
  MQ面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/SpringBoot-SpringCloud.html" class="nav-link"><i class="undefined"></i>
  SpringBoot&amp;SpringCloud面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/ssm.html" class="nav-link"><i class="undefined"></i>
  ssm面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/mysql.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  MySql面经
</a></li><li class="dropdown-item"><!----> <a href="/docs/theme-reco/Transactional.html" class="nav-link"><i class="undefined"></i>
  事务控制
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/docs/theme-reco/" aria-current="page" class="sidebar-link">javaSE面经</a></li><li><a href="/docs/theme-reco/ssm.html" class="sidebar-link">ssm面经</a></li><li><a href="/docs/theme-reco/SpringBoot-SpringCloud.html" class="sidebar-link">SpringBoot&amp;SpringCloud面经</a></li><li><a href="/docs/theme-reco/mq.html" class="sidebar-link">MQ面经</a></li><li><a href="/docs/theme-reco/mysql.html" aria-current="page" class="active sidebar-link">MySql面经</a></li><li><a href="/docs/theme-reco/Transactional.html" class="sidebar-link">事务控制</a></li><li><a href="/docs/theme-reco/redis.html" class="sidebar-link">redis面经</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>MySql面经</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>zstaoer</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">MySql面经</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>zstaoer</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>4/2/2023</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>MySql</span></i></div></div> <div class="theme-reco-content content__default"><div class="custom-block tip"><p class="title"></p><p>MySql面经分享</p></div> <h2 id="_1-mysql查询语句的书写顺序"><a href="#_1-mysql查询语句的书写顺序" class="header-anchor">#</a> 1. Mysql查询语句的书写顺序</h2> <p><strong>Select</strong>   [distinct ]  &lt;字段名称&gt;  <strong>from</strong>  表1   [ &lt;join类型&gt;  join 表2  on &lt;join条件&gt;   ]  <strong>where</strong> &lt;where条件&gt;  <strong>group by</strong> &lt;字段&gt;</p> <p><strong>having</strong> &lt;having条件&gt;   <strong>order by</strong> &lt;排序字段&gt;  <strong>limit</strong> &lt;起始偏移量,行数&gt;</p> <h2 id="_2-mysql查询语句的执行顺序"><a href="#_2-mysql查询语句的执行顺序" class="header-anchor">#</a> 2. Mysql查询语句的执行顺序</h2> <p>（8）Select
（9）distinct 字段名1,字段名2，
（7）[fun(字段名)]<br>
（1）from 表1
（3）&lt;join类型&gt;join 表2
（2）on &lt;join条件&gt;
（4）where &lt;where条件&gt;
（5）group by &lt;字段&gt;
（6）having &lt;having条件&gt;
（10）order by &lt;排序字段&gt;
（11）limit &lt;起始偏移量,行数&gt;</p> <h2 id="_3-mysql-如何实现多表查询"><a href="#_3-mysql-如何实现多表查询" class="header-anchor">#</a> 3. Mysql 如何实现多表查询</h2> <p>MYSQL多表查询主要使用连接查询  , 连接查询的方式主要有 :</p> <ul><li>内连接
<ul><li>隐式内连接 :  Select 字段   From 表A , 表B where 连接条件</li> <li>显式内连接  :  Select 字段   From 表A  inner join  表B  on 连接条件</li></ul></li> <li>外连接
<ul><li>左外连接 : Select 字段   From 表A  left join  表B  on 连接条件</li> <li>右外连接 : Select 字段   From 表A  right join  表B  on 连接条件</li> <li>全外连接：(很少用)</li></ul></li> <li>子查询</li></ul> <h2 id="_4-mysql内连接和外连接的区别"><a href="#_4-mysql内连接和外连接的区别" class="header-anchor">#</a> 4. MYSQL内连接和外连接的区别 ?</h2> <ul><li>内连接：只有两个元素表相匹配的才能在结果集中显示。</li> <li>外连接：左外连接: 左边为驱动表，驱动表的数据全部显示，匹配表的不匹配的不会显示。</li> <li>右外连接:右边为驱动表，驱动表的数据全部显示，匹配表的不匹配的不会显示。</li> <li>全外连接：连接的表中不匹配的数据全部会显示出来。</li> <li>交叉连接：笛卡尔效应，显示的结果是链接表数的乘积。</li></ul> <h2 id="_5-char和varchar的区别"><a href="#_5-char和varchar的区别" class="header-anchor">#</a> 5. CHAR和VARCHAR的区别？</h2> <ol><li>char的长度是不可变的，用空格填充到指定长度大小，而varchar的长度是可变的。</li> <li>char的存取速度比varchar要快得多</li> <li>char的存储方式是：对英文字符（ASCII）占用1个字节，对一个汉字占用两个字节。
varchar的存储方式是：对每个英文字符占用2个字节，汉字也占用2个字节。</li></ol> <h2 id="_6-了解过mysql的索引嘛"><a href="#_6-了解过mysql的索引嘛" class="header-anchor">#</a> 6. 了解过Mysql的索引嘛 ?</h2> <p>MYSQL索引主要有 : <strong>单列索引</strong> , <strong>组合索引</strong>和<strong>空间索引</strong> , 用的比较多的就是单列索引和组合索引 , 空间索引我这边没有用到过</p> <p><strong>单列索引 :</strong> 在MYSQL数据库表的某一列上面创建的索引叫单列索引 , 单列索引又分为</p> <ul><li><p>普通索引：MySQL中基本索引类型，没有什么限制，允许在定义索引的列中插入重复值和空值，纯粹为了查询数据更快一点。</p></li> <li><p>唯一索引：索引列中的值必须是唯一的，但是允许为空值</p></li> <li><p>主键索引：是一种特殊的唯一索引，不允许有空值</p></li> <li><p>全文索引： 只有在MyISAM引擎、InnoDB（5.6以后）上才能使⽤用，而且只能在CHAR,VARCHAR,TEXT类型字段上使⽤用全⽂文索引。</p></li></ul> <p><strong>组合索引 :</strong> 在MYSQL数据库表的多个字段组合上创建的索引  , 称为组合索引也叫联合索引</p> <ul><li><p>组合索引的使用，需要遵循左前缀原则</p></li> <li><p>一般情况下，建议使用组合索引代替单列索引（主键索引除外）</p></li></ul> <blockquote><p>创建索引语法 :</p> <p>1). 创建索引</p> <div class="language-SQL line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span>  <span class="token punctuation">[</span> <span class="token keyword">UNIQUE</span> <span class="token operator">|</span> FULLTEXT <span class="token punctuation">]</span>  <span class="token keyword">INDEX</span>  index_name  <span class="token keyword">ON</span>  table_name  <span class="token punctuation">(</span> index_col_name<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2). 查看索引</p> <div class="language-SQL line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span>  <span class="token keyword">INDEX</span>  <span class="token keyword">FROM</span>  table_name <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>3). 删除索引</p> <div class="language-SQL line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span>  <span class="token keyword">INDEX</span>  index_name  <span class="token keyword">ON</span>  table_name <span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></blockquote> <h2 id="_7-索引的底层数据结构了解过嘛"><a href="#_7-索引的底层数据结构了解过嘛" class="header-anchor">#</a> 7. 索引的底层数据结构了解过嘛 ?</h2> <p>索引是在<strong>存储引擎中实现</strong>的，也就是说不同的存储引擎，会使用不同的索引</p> <p>MyISAM和InnoDB存储引擎：只⽀支持<strong>B+ TREE索引</strong>， 也就是说默认使用BTREE，不能够更换</p> <p>MEMORY/HEAP存储引擎：支持HASH和BTREE索引</p> <h2 id="_8-mysql支持的存储引擎有哪些-有什么区别"><a href="#_8-mysql支持的存储引擎有哪些-有什么区别" class="header-anchor">#</a> 8. MYSQL支持的存储引擎有哪些, 有什么区别 ?</h2> <p><img src="/assets/img/image-20220521114720326.a140c649.png" alt="image-20220521114720326"></p> <p>MYSQL存储引擎有很多, 常用的就二种 : <strong>MyISAM</strong>和<strong>InnerDB</strong> , 者两种存储引擎的区别 ;</p> <ul><li>MyISAM支持256TB的数据存储 , InnerDB只支持64TB的数据存储</li> <li>MyISAM 不支持事务 , InnerDB支持事务</li> <li>MyISAM 不支持外键 , InnerDB支持外键</li></ul> <h2 id="_9-什么是聚簇索引什么是非聚簇索引"><a href="#_9-什么是聚簇索引什么是非聚簇索引" class="header-anchor">#</a> 9. 什么是聚簇索引什么是非聚簇索引 ?</h2> <p><strong>聚簇索引</strong></p> <p>在使用<code>InnoDB</code>存储引擎的时候, 主键索引B+树叶子节点会存储数据行记录，简单来说<strong>数据和索引在一起存储</strong> , 这就是聚簇索引</p> <p><strong>非聚簇索引</strong></p> <p>在使用<code>MyISAM</code>存储引擎的时候, B+树叶子节点只会存储数据行的指针，简单来说<strong>数据和索引不在一起</strong>  , 这就是非聚簇索引</p> <h2 id="_10-在一个非主键字段上创建了索引-想要根据该字段查询到数据-需要查询几次"><a href="#_10-在一个非主键字段上创建了索引-想要根据该字段查询到数据-需要查询几次" class="header-anchor">#</a> 10. 在一个非主键字段上创建了索引, 想要根据该字段查询到数据, 需要查询几次 ?</h2> <p>需要查询二次</p> <p>如果使用<code>MyISAM</code>存储引擎 , 会首先根据索引查询到数据行指针, 再根据指针获取数据</p> <p>如果是<code>InnoDB</code>存储引擎 , 会根据索引查找指定数据关联的主键ID , 再根据主键ID去主键索引中查找数据</p> <h2 id="_11-知道什么是回表查询嘛"><a href="#_11-知道什么是回表查询嘛" class="header-anchor">#</a> 11. 知道什么是回表查询嘛 ?</h2> <p>当我们为一张表的<code>name</code>字段建立了索引 , 执行如下查询语句 :</p> <p><code>select name,age from user where name='Alice'</code></p> <p>那么获取到数据的过程为 :</p> <ol><li><p>根据<code>name='Alice'</code>查找索引树 , 定位到匹配数据的主键值为<code>id=18</code></p> <p><img src="/assets/img/image-20220521115651825.7cec8d96.png" alt="image-20220521115651825"></p></li> <li><p>根据<code>id=18</code>到主索引获取数据记录  (回表查询)</p> <p><img src="/assets/img/image-20220521115705653.1f687774.png" alt="image-20220521115705653"></p></li></ol> <p>**先定位主键值，再定位行记录就是所谓的回表查询，它的性能较扫一遍索引树低 **</p> <h2 id="_12-知道什么叫覆盖索引嘛"><a href="#_12-知道什么叫覆盖索引嘛" class="header-anchor">#</a> 12. 知道什么叫覆盖索引嘛 ?</h2> <p>覆盖索引是指只需要在一棵索引树上就能获取SQL所需的所有列数据 , 因为无需回表查询效率更高</p> <p>实现覆盖索引的常见方法是：将被查询的字段，建立到联合索引里去。</p> <p>执行如下查询语句 : <code>select name,age from user where name='Alice'</code></p> <p>因为要查询 <code>name</code>和 <code>age</code>二个字段 , 那么我们可以建立组合索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">index</span> index_name_age <span class="token keyword">on</span> <span class="token keyword">user</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那么索引存储结构如下 :</p> <p><img src="data:image/png;base64,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" alt="img"></p> <p>这种情况下, 执行<code>select name,age from user where name='Alice'</code> , 会先根据<code>name='Alice'</code>, 找到记录 , 这条记录的索引上刚好又包含了 age 数据 , 直接把 <code>Alice 77</code>数据返回 , 就不会执行回表查询 , 这就是覆盖索引</p> <h2 id="_13-知道什么是左前缀原则嘛"><a href="#_13-知道什么是左前缀原则嘛" class="header-anchor">#</a> 13. 知道什么是左前缀原则嘛 ?</h2> <p>在mysql建立联合索引时会遵循左前缀匹配的原则，即最左优先，在检索数据时从联合索引的最左边开始匹配，组合索引的第一个字段必须出现在查询组句中，这个索引才会被用到 ;</p> <p>例如 : <code>create index index_age_name_sex on tb_user(age,name,sex);</code></p> <p>上述SQL语句对 <code>age</code>,<code>name</code>和<code>sex</code>建一个组合索引<code>index_age_name_sex</code>,实际上这条语句相当于建立了<code>(age) , (age,name) , (age,name,sex)</code>三个索引 .</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_user <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">49</span> <span class="token punctuation">;</span>  <span class="token comment">-- 使用索引</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_user <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">49</span> <span class="token operator">and</span> name <span class="token operator">=</span> <span class="token string">'Alice'</span> <span class="token punctuation">;</span>  <span class="token comment">-- 使用索引</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_user <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">49</span> <span class="token operator">and</span> name <span class="token operator">=</span> <span class="token string">'Alice'</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'man'</span><span class="token punctuation">;</span>  <span class="token comment">-- 使用索引</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_user <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">49</span>  <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'man'</span><span class="token punctuation">;</span>  <span class="token comment">-- 使用索引 , 但是只有 age 匹配索引 sex没有走索引</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_user <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'Alice'</span> <span class="token operator">and</span> age <span class="token operator">=</span> <span class="token number">49</span> <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'man'</span> <span class="token punctuation">;</span>  <span class="token comment">-- 使用索引 ,  因为MySQL的查询优化器会自动调整 where 子句的条件顺序以使用适合的索引</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tb_user <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'Alice'</span>  <span class="token operator">and</span> sex <span class="token operator">=</span> <span class="token string">'man'</span> <span class="token punctuation">;</span>  <span class="token comment">-- 不会使用索引</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_14-什么情况下索引会失效"><a href="#_14-什么情况下索引会失效" class="header-anchor">#</a> 14. 什么情况下索引会失效 ?</h2> <p>MySQL 索引通常是被用于提高 WHERE 条件的数据行匹配时的搜索速度，编写合理化的SQL能够提高SQL的执行效率</p> <ol><li><p>在列上使用函数和进行运算会导致索引失效</p></li> <li><p>使用 != 或 not in或 &lt;&gt; 等否定操作符会导致索引失效</p></li> <li><p>尽量避免使用 or 来连接条件</p> <blockquote><p>or关键词二边 , 只要有一个条见不满足索引, 就会全表扫描</p></blockquote></li> <li><p>多个单列索引并不是最佳选择，建立组合索引代替多个单列索引, 可以避免回表查询</p></li> <li><p>使用 &gt;  , &lt; 等比较运算符号 , 比较运算符后面的条件索引会失效</p></li> <li><p>当查询条件左右两侧类型不匹配的时候会发生隐式转换，隐式转换带来的影响就是可能导致索引失效而进行全表扫描。</p></li> <li><p>like 语句的索引失效问题
like 的方式进行查询，在 like “value%” 可以使用索引，但是对于 like “%value%” 这样的方式，执行全表查询</p></li> <li><p>数据库在执行的过程中, 如果判断执行索引的效率还没有全表扫描的效率高, 也会走全表扫描</p></li></ol> <h2 id="_15-索引是越多越好嘛-什么样的字段需要建索引-什么样的字段不需要"><a href="#_15-索引是越多越好嘛-什么样的字段需要建索引-什么样的字段不需要" class="header-anchor">#</a> 15. 索引是越多越好嘛? 什么样的字段需要建索引, 什么样的字段不需要 ?</h2> <p><strong>需要创建索引情况</strong></p> <ol><li><p>主键自动建立主键索引</p></li> <li><p>频繁作为查询条件的字段应该创建索引</p></li> <li><p>多表关联查询中，关联字段应该创建索引 (on 两边都要创建索引)</p></li> <li><p>查询中排序的字段，应该创建索引</p></li> <li><p>频繁查找字段 , 应该创建索引</p></li> <li><p>查询中统计或者分组字段，应该创建索引</p></li></ol> <p><strong>不要创建索引情况</strong></p> <ol><li><p>表记录太少</p></li> <li><p>经常进⾏行行增删改操作的表</p></li> <li><p>频繁更新的字段</p></li> <li><p>where条件里使用频率不高的字段</p></li> <li><p>区分度不高的字段</p></li></ol> <h2 id="_16-mysql的性能优化"><a href="#_16-mysql的性能优化" class="header-anchor">#</a> 16. mysql的性能优化</h2> <ol><li><p>从设计方面 选择合适的存储引擎 , 合适的字段类型 , 遵循范式(反范式设计)</p> <blockquote><ol><li><p>存储引擎 :
不需要事务, 不需要外键读写较多的的使用MyIsam
需要事务, 需要外键的使用InnoDB</p></li> <li><p>合适的字段类型 , 例如 :
定长字符串用char , 不定长用varchr
状态, 性别等有限数量值的用tinyint</p></li> <li><p>遵循范式 :
第一范式1NF，原子性
第二范式2NF，消除部分依赖
第三范式3NF，消除传递依赖</p></li></ol></blockquote></li></ol> <p>2.从功能方面可以对索引优化，采用缓存缓解数据库压力，分库分表。</p> <p>3.从架构方面可以采用主从复制，读写分离，负载均衡</p> <h2 id="_17-mysql超大分页怎么处理"><a href="#_17-mysql超大分页怎么处理" class="header-anchor">#</a> 17. MYSQL超大分页怎么处理 ?</h2> <p>MYSQL 不是跳过offset行, 而是取offset+N行, 然后放弃前offset行 , 返回N行, 所以当offset比较法的情况下分页效率很低</p> <p>正确的处理方法是 : 先快速定位需要获取的id再关联查询获取数据</p> <h2 id="_18-如何定位慢查询"><a href="#_18-如何定位慢查询" class="header-anchor">#</a> 18. 如何定位慢查询 ?</h2> <p>可以在MYSQL配置文件中开启慢查询 , 有两种方式可以开启慢查询</p> <p><strong>方式一 : 修改<code>my.ini</code>配置文件 , 重启 MySQL 生效</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[mysqld]
log_output='FILE,TABLE'
slow_query_log='ON'
long_query_time=0.001
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>方式二 : 设置全局变量</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>SET GLOBAL slow_query_log = 'ON';
SET GLOBAL log_output = 'FILE,TABLE';
SET GLOBAL long_query_time = 0.001;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_19-一个sql语句执行很慢-如何分析"><a href="#_19-一个sql语句执行很慢-如何分析" class="header-anchor">#</a> 19. 一个SQL语句执行很慢, 如何分析</h2> <p>首先可以开启慢查询, 通过慢查询日志或者命令, 获取到执行慢的SQL语句 , 其次可以使用<code>EXLPAIN</code>命令分析SQL语句的执行过程</p> <p>EXLPAIN命令, 比较重要的字段**(加黑加粗的是重要的)** :</p> <p><img src="https://img-blog.csdnimg.cn/ff28cba591e74b2f9dd2da3bfc7db5d9.png" alt="img"></p> <p><strong>select_type重点解读</strong> <img src="/assets/img/5161d3925b1c4f298cff3632e217490d.57731aff.png" alt=""></p> <p><strong>type重点解读：查询性能从上到下依次是最好到最差</strong> <img src="/assets/img/f470d1a3103145438412111d30202041.c33f3bdb.png" alt=""></p> <p><strong>extra重点解读</strong></p> <p><img src="/assets/img/45edde9cf88845cea5859d20e6b33b1e.77bc482e.png" alt=""></p> <h2 id="_20-mysql锁和分库分表"><a href="#_20-mysql锁和分库分表" class="header-anchor">#</a> 20. Mysql锁和分库分表</h2> <p>MYSQL锁按照锁的粒度分，分为以下三类：</p> <ul><li><p>全局锁：锁定数据库中的所有表。</p> <blockquote><p>全局锁就是对整个数据库实例加锁，加锁后整个实例就处于只读状态</p></blockquote></li> <li><p>表级锁：每次操作锁住整张表。</p> <blockquote><p>表级锁，每次操作锁住整张表。锁定粒度大，发生锁冲突的概率最高，并发度最低 , 对于表级锁，主要分为以下三类：</p> <ul><li><p>表锁  :</p> <ul><li><p>表共享读锁   lock tables 表名  read/write</p></li> <li><p>表排他写锁  lock tables 表名  write</p></li></ul></li> <li><p>元数据锁 :</p> <ul><li>元数据锁加锁过程是系统自动控制，无需显式使用，在访问一张表的时候会自动加上 , 主要作用是维护表元数据的数据一致性，在表上有活动事务的时候，不可以对元数据进行写入操作</li></ul></li> <li><p>意向锁 : 为一条数据加行锁的情况下, 同时获取表的意向锁 , 其他事物再来获取表锁 , 可以方便的判断是否可以获取锁 , 使用意向锁来减少表锁的检查。</p> <ul><li>意向共享锁(IS): 由语句  select ... lock in share mode添加 。 与 表锁共享锁(read)兼容，与表锁排他锁(write)互斥。</li> <li>意向排他锁(IX): 由insert、update、delete、select...for update添加 。与表锁共享锁(read)及排他锁(write)都互斥，意向锁之间不会互斥。</li></ul></li></ul></blockquote></li> <li><p>行级锁：每次操作锁住对应的行数据。</p> <blockquote><p>行级锁，每次操作锁住对应的行数据。锁定粒度最小，发生锁冲突的概率最低，并发度最高 , 行锁是通过对索引上的索引项加锁来实现的，而不是对记录加的锁。</p> <ul><li>行锁（Record Lock）：锁定单个行记录的锁，防止其他事务对此行进行update和delete。在RC、RR隔离级别下都支持。</li> <li>间隙锁（Gap Lock）：锁定索引记录间隙（不含该记录），确保索引记录间隙不变，防止其他事务在这个间隙进行insert，产生幻读。在RR隔离级别下都支持</li> <li>临键锁（Next-Key Lock）：行锁和间隙锁组合，同时锁住数据，并锁住数据前面的间隙Gap。在RR隔离级别下支持。</li></ul></blockquote></li></ul> <ol start="21"><li>MYSQL实现事物的原理 有了解过嘛 ?</li></ol></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/3/2023, 1:04:46 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/docs/theme-reco/mq.html" class="prev">
          MQ面经
        </a></span> <span class="next"><a href="/docs/theme-reco/Transactional.html">
          事务控制
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.9553e677.js" defer></script><script src="/assets/js/3.979a681a.js" defer></script><script src="/assets/js/1.9975a5e7.js" defer></script><script src="/assets/js/9.25944bc3.js" defer></script>
  </body>
</html>
